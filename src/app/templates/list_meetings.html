{% extends "base.html" %}
{% block content %}

{% if success %}
<div class="toast" id="toast">
  {% if success == 'meeting_created' %}
    ✓ Meeting created successfully!
  {% elif success == 'meeting_updated' %}
    ✓ Meeting updated successfully!
  {% elif success == 'meeting_deleted' %}
    ✓ Meeting deleted successfully!
  {% endif %}
</div>
<script>
  setTimeout(() => {
    const toast = document.getElementById('toast');
    if (toast) toast.style.display = 'none';
  }, 3000);
</script>
{% endif %}

<h2>Meetings</h2>

<ul>
  {% for m in meetings %}
    <li>
      <strong>{{ m.display_date }}</strong> - 
      {{ m.meeting_name }}
      —
      <a href="/meetings/{{ m.id }}/edit">Edit</a>
      
      <form method="post" action="/meetings/{{ m.id }}/delete" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this meeting?');">
        <button type="submit" class="delete-btn">Delete</button>
      </form>
    </li>
  {% endfor %}
</ul>
{% endblock %}
